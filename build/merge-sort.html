<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta charset="utf-8">
        <title>doingçš„å°ç ´å±‹</title>
        <style>
         img {
             width: 90vw;
             z-index: 1000;
         }
         .pstbdy{
             width: 100vw;
             flex: auto;
         }
         body{
             display: flex;
             flex-direction: column;
         }
         @media screen and (max-width: 750px){
             body{
		 font-size: 5vw !important;
             }
         }
	 /* Sspai Web Theme A theme to [sspai](ssp.ai) default theme. Developed by Codegass(wchweichenhao@gmial.com) & Yves(yves@sspai.com) Download Cuto on the App Store and Google Play! */
	 body {
	     font-size: 15px;
	     color:#333;
	     background:#fff;
	     font-family: Helvetica, Arial, "PingFang SC", "Microsoft YaHei", "WenQuanYi Micro Hei", "tohoma,sans-serif";
	     margin: 0;
	 }
	 h1 {
	     font-size: 2.2em;
	     font-weight: 700;
	     line-height: 1.1;
	     padding-top: 16px;
	     margin-bottom: 4px;
	 }
	 h2, h3, h4, h5, h6 {
	     line-height: 1.5em;
	     margin-top: 2.2em;
	     margin-bottom: 4px;
	 }
	 h2 {
	     font-size: 1.4em;
	     margin: 40px 10px 20px 0;
	     padding-left: 9px;
	     border-left: 6px solid #ff7e79;
	     font-weight: 700;
	     line-height: 1.4;
	 }
	 h3 {
	     font-weight: 700;
	     font-size: 1.2em;
	     line-height: 1.4;
	     margin: 10px 0 5px;
	     padding-top: 10px;
	 }
	 h4 {
	     font-weight: 700;
	     text-transform: uppercase;
	     font-size: 1.1em;
	     line-height: 1.4;
	     margin: 10px 0 5px;
	     padding-top: 10px
	 }
	 h5, h6 {
	     font-size: .9em;
	 }
	 h5 {
	     font-weight: bold;
	     text-transform: uppercase;
	 }
	 h6 {
	     font-weight: normal;
	     color: #AAA;
	 }
	 img {
	     width: 100%;
	     border-radius: 5px;
	     display: block;
	     margin-bottom: 15px;
	     height: auto;
	 }
	 dl,ol,ul {
	     margin-top: 12px;
	     margin-bottom: 20px;
	     padding-left: 5%;
	     line-height: 1.8;
	 }
	 p {
	     margin: 0 0 20px;
	     padding: 0;
	     line-height: 1.8;
	 }
	 a {
	     text-decoration: none;
	     color: black;
	     border-bottom: 1px solid #d71a1b;
	 }
	 a:focus {
	     outline-offset: -2px;
	 }
	 blockquote {
	     font-size: 1em;
	     font-style: normal;
	     padding: 30px 38px;
	     margin: 0 0 15px;
	     position: relative;
	     line-height: 1.8;
	     text-indent: 0;
	     border: none;
	     color: #888;
	 }
	 blockquote:before {
	     content: "â€œ";
	     left: 12px;
	     top: 0;
	     color: #E0E0E0;
	     font-size: 4em;
	     font-family: Arial, serif;
	     line-height: 1em;
	     font-weight: 700;
	     position: absolute;
	 }
	 blockquote:after {
	     content: "â€";
	     right: 12px;
	     bottom: -26px;
	     color: #E0E0E0;
	     font-size: 4em;
	     font-family: Arial, serif;
	     line-height: 1em;
	     font-weight: 700;
	     position: absolute;
	     bottom: -31px;
	 }
	 strong, dfn {
	     font-weight: 700;
	 }
	 em, dfn {
	     font-style: italic;
	     font-weight: 400;
	 }
	 del {
	     text-decoration: line-through;
	 }
	 /*code {font-size:90%;}*/
	 /*pre {text-align:left; overflow-x: scroll; color: #257fa0; background: #f6f6f6; padding: 10pt 15pt; border-radius: 3px; border: solid 1px #e2e2e2;}*/
	 pre {
	     margin: 0 0 10px;
	     font-size: 13px;
	     line-height: 1.42857;
	     word-break: break-all;
	     word-wrap: break-word;
	     border-radius: 4px;
	     white-space: pre-wrap;
	     display: block;
	     background: #f8f8f8;
	     padding: 10px 20px;
	     border: none;
	     margin-bottom: 25px;
	     color: #666;
	     font-family: Courier, sans-serif;
	 }
	 code {
	     color: #c7254e;
	     background-color: #f9f2f4;
	     border-radius: 4px;
	     font-family: Menlo, Monaco, Consolas, "Courier New", monospace;
	     padding: 2px 4px;
	     font-size: 90%;
	 }
	 p > code {
	     color: #c7264e;
	     background-color: #f9f2f4;
	     font-size: .95em;
	     border-radius: 3px;
	     -moz-border-radius: 3px;
	     -webkit-border-radius: 3px;
	 }
	 figure {
	     margin: 1em 0;
	 }
	 figcaption {
	     font-size: 0.75em;
	     padding:0.5em 2em;
	     margin-bottom: 2em;
	 }
	 figure img {
	     margin-bottom: 0px;
	 }
	 hr {
	     margin-top: 20px;
	     margin-bottom: 20px;
	     border: 0;
	     border-top: 1px solid #eee;
	 }
	 ol p, ul p {
	     margin-bottom: 0px;
	 }
	 li {
	     margin-bottom: 0.75em;
	     margin-top: 0.75em;
	 }
	 ol#footnotes {
	     font-size: 0.95em;
	     padding-top: 1em;
	     margin-top: 1em;
	     margin-left: 0;
	     border-top: 1px solid #eaeaea;
	     counter-reset: footer-counter;
	     list-style: none;
	     color: #555;
	     padding-left: 5%;
	     margin: 20px 0;
	 }
	 ol#footnotes li {
	     margin-bottom: 10px;
	     margin-left: 16px;
	     font-weight: 400;
	     line-height: 2;
	     list-style-type: none;
	 }
	 ol#footnotes li:before {
	     content: counter(footer-counter) ". ";
	     counter-increment: footer-counter;
	     font-weight: 800;
	     font-size: .95em;
	 }
	 @keyframes highfade {
	     0% {background-color: none;}
	     20% {background-color: yellow;}
	     100% {background-color: none;}
	 }
	 @-webkit-keyframes highfade {
	     0% {background-color: none;} 
	     20% {background-color: yellow;}
	     100% {background-color: none;}
	 }
	 a:target, ol#footnotes li:target, sup a:target {
	     animation-name: highfade;
	     animation-duration: 2s;
	     animation-iteration-count: 1;
	     animation-timing-function: ease-in-out;
	     -webkit-animation-name: highfade;
	     -webkit-animation-duration: 2s;
	     -webkit-animation-iteration-count: 1;
	     -webkit-animation-timing-function: ease-in-out;
	 }
	 a:target {
	     border:0;
	     outline: 0;
	     animation-iteration-count: 1;
	     -webkit-animation-timing-function: ease-in-out;
	 }
	 a:target {
	     border:0;
	     outline: 0;
	     tion-iteration-count: 1;
	     -webkit-animation-timing-function: ease-in-out;
	 }
	 a:target {
	     border:0;outline: 0;
	 }
	</style>
	<link rel="stylesheet" href="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/styles/atom-one-dark.min.css">
    </head>
    <body style="background-color: hsl(204,60%,96%);">
        <div style="background-color: hsl(204, 60%, 96%);z-index:999;flex-shrink: 0;"><a href="{{{siteUrl}}}" style="text-decoration: none;color: black;display:flex;flex-direction: row;flex-warp: nowarp;justify-content: flex-start;">
            <h1>{{{siteName}}}</h1></a></div>
        <div style="background-color: hsl(204, 60%, 96%);" class="pstbdy"><h1 id="å½’å¹¶æ’åºç®€ä»‹">å½’å¹¶æ’åºç®€ä»‹</h1>
<h2 id="ä»€ä¹ˆæ˜¯æ’åºç®—æ³•">ä»€ä¹ˆæ˜¯æ’åºç®—æ³•</h2>
<p>æ’åºç®—æ³•æ˜¯ç®—æ³•çš„åŸºçŸ³ï¼Œè®¸å¤šç®—æ³•éƒ½åŸºäºæ’åºç®—æ³•ï¼Œæ¯”å¦‚äºŒåˆ†æœç´¢ã€ç¦»æ•£åŒ–ç­‰ã€‚è¿™ç¯‡æ–‡ç« å°†è¦è¯¦ç»†ä»‹ç»å°†è¦ä»‹ç»æ’åºç®—æ³•ä¹‹ä¸€â€”â€”å½’å¹¶æ’åºã€‚</p>
<h2 id="å½’å¹¶æ’åºçš„æ€§èƒ½">å½’å¹¶æ’åºçš„æ€§èƒ½</h2>
<p>å½’å¹¶æ’åºçš„æ—¶é—´å¤æ‚åº¦ç¨³å®šåœ¨ <span
class="math inline">ğ’ª(<em>n</em>log(<em>n</em>))</span>
ï¼Œæ˜¯ä¸€ç§å…·æœ‰ç¨³å®šæ€§ï¼ˆå³ç›¸åŒå…ƒç´ ç›¸å¯¹ä½ç½®ä¸å˜ï¼‰çš„æ’åºæ–¹æ³•ã€‚æ‰€ä»¥ä¸€èˆ¬æ¥è¯´å½’å¹¶æ’åºä¼˜äºå¿«é€Ÿæ’åºã€‚å½’å¹¶æ’åºåŸºäºä¸€ç§å«åšâ€œåˆ†æ²»â€çš„æ€æƒ³ï¼Œå³åˆ†è€Œæ²»ä¹‹ã€‚</p>
<h1 id="å½’å¹¶æ’åºåŸç†">å½’å¹¶æ’åºåŸç†</h1>
<p>ä¸‹é¢æˆ‘ä»¬ç”¨<code>1 9 2 7 6 5 8 4</code>è¿™8ä¸ªæ•°æ¥æ¼”ç¤ºå½’å¹¶æ’åºã€‚</p>
<p>å½’å¹¶æ’åºä¸»è¦åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œä¸€éƒ¨åˆ†æ˜¯åˆ†ï¼Œä¸€éƒ¨åˆ†æ˜¯åˆã€‚</p>
<h2 id="æ­¥éª¤ä¸€åˆ†è§£">æ­¥éª¤ä¸€ï¼šåˆ†è§£</h2>
<p><img src="https://s21.ax1x.com/2024/07/29/pkLkTEj.png" /></p>
<p>å¯¹äºæ¯ä¸ªåºåˆ—ï¼Œå–<code>mid=(l+r)/2</code>ï¼ˆå‘ä¸‹å–æ•´ï¼‰ï¼Œ
ç„¶ååˆ†åˆ«å¯¹å·¦ï¼ˆ<code>[l~mid]</code>ï¼‰å³ï¼ˆ<code>[mid+1~r]</code>ï¼‰ä¸¤æ®µè¿›è¡Œæ’åºã€‚
ç­‰ç­‰ï¼å¦‚æœ <span
class="math inline"><em>l</em>â€„=â€„<em>r</em></span>ï¼Œå³åªæœ‰ä¸€ä¸ªæ•°äº†ï¼Œé‚£ä¹ˆè¿™æ®µå°±ä¸ç”¨æ’äº†ï¼Œ
ç›´æ¥<code>return</code>ã€‚</p>
<h2 id="æ­¥éª¤äºŒåˆå¹¶">æ­¥éª¤äºŒï¼šåˆå¹¶</h2>
<p>è¿™ä¸ªæ­¥éª¤ï¼Œæˆ‘ä»¬éœ€è¦å°†ä¸¤ä¸ªå­åºåˆ—è¿›è¡Œåˆå¹¶ã€‚æ³¨æ„ï¼Œè¢«åˆå¹¶çš„ä¸¤ä¸ªå­åºåˆ—ä¸€å®šæ˜¯æœ‰åºçš„ã€‚è¿™æ ·æ‰å¯ä»¥è¿›è¡Œçº¿æ€§çš„åˆå¹¶ã€‚</p>
<p>æˆ‘ä»¬å®šä¹‰ä¸¤ä¸ªâ€œç®­å¤´â€<code>i</code>å’Œ<code>j</code>åˆ†åˆ«æŒ‡å‘ä¸¤ä¸ªå­åºåˆ—çš„å¼€å¤´ï¼Œå¹¶ä¸”å®šä¹‰ä¸€ä¸ªâ€œå‚¨ç‰©é—´â€æ•°ç»„<code>t</code>ï¼Œç”¨æ¥å­˜å‚¨æ’å¥½çš„æ•°å­—ï¼Œå°±åƒè¿™æ ·ï¼š</p>
<p><a href="https://imgse.com/i/pkLNwB4"><img
src="https://s21.ax1x.com/2024/07/29/pkLNwB4.png"
alt="pkLNwB4.png" /></a></p>
<p>ç„¶åæˆ‘ä»¬æ¯”è¾ƒä¸¤ä¸ªç®­å¤´æŒ‡å‘çš„æ•°å­—ï¼Œçœ‹å“ªä¸ªå°ï¼Œå°±è®©å“ªä¸ªè¿›å…¥â€œå‚¨ç‰©é—´â€ï¼Œå¹¶ä¸”æŠŠé‚£ä¸ªç®­å¤´å‘å‰æ¨è¿›ã€‚
æ¯”å¦‚ä¸Šé¢è¿™å¹…å›¾ï¼Œ <span class="math inline">1â€„&lt;â€„4</span>
ï¼Œæ‰€ä»¥å°±å˜æˆè¿™æ ·ï¼š</p>
<p><a href="https://imgse.com/i/pkLN69x"><img
src="https://s21.ax1x.com/2024/07/29/pkLN69x.png"
alt="pkLN69x.png" /></a></p>
<p>æ¥ä¸‹æ¥ï¼Œ <span class="math inline">2â€„&lt;â€„4</span>
ï¼Œæ‰€ä»¥è®©iæŒ‡å‘çš„æ•°è¿›å…¥å‚¨ç‰©é—´å¹¶å‘å‰æ¨è¿›ã€‚</p>
<p><a href="https://imgse.com/i/pkLNggK"><img
src="https://s21.ax1x.com/2024/07/29/pkLNggK.png"
alt="pkLNggK.png" /></a></p>
<p>æ¥ä¸‹æ¥ç»§ç»­ï¼Œæ³¨æ„ï¼ <span class="math inline">7â€„&gt;â€„4</span>
ï¼Œæ‰€ä»¥è¦è®©4è¿›å…¥å‚¨ç‰©é—´ï¼Œæ¨è¿›çš„åˆ™æ˜¯<code>j</code>ã€‚</p>
<p><a href="https://imgse.com/i/pkLNfDe"><img
src="https://s21.ax1x.com/2024/07/29/pkLNfDe.png"
alt="pkLNfDe.png" /></a></p>
<p>ä»¥æ­¤ç±»æ¨ï¼Œè¯·ä½ æ‰‹åŠ¨æ¨¡æ‹Ÿä¸€ä¸‹åé¢çš„éƒ¨åˆ†ï¼Œå¦‚æœæ²¡æœ‰é”™ï¼Œæ¨¡æ‹Ÿå®Œåº”è¯¥æ˜¯è¿™æ ·çš„ï¼š</p>
<p><a href="https://imgse.com/i/pkLNIUA"><img
src="https://s21.ax1x.com/2024/07/29/pkLNIUA.png"
alt="pkLNIUA.png" /></a></p>
<p>æ€ä¹ˆæ ·ï¼Ÿè‡ªå·±æ¨¡æ‹Ÿçš„å¯¹ä¸å¯¹ï¼Ÿæ³¨æ„å¦‚æœä¸€ä¸ªç®­å¤´èµ°åˆ°äº†æœ«å°¾ï¼Œå¦ä¸€ä¸ªç®­å¤´è¿˜è¦ç»§ç»­èµ°å®Œå“¦ï¼å¦‚æœè¿˜æ˜¯ä¸ç†è§£å¯ä»¥çœ‹ä¸€ä¸‹ä»£ç </p>
<h2 id="ä»£ç å®ç°">ä»£ç å®ç°</h2>
<div class="sourceCode" id="cb1"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">// aæ˜¯åŸåºåˆ—ï¼Œtæ˜¯å‚¨ç‰©é—´ã€‚</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> a<span class="op">[</span><span class="dv">100</span><span class="op">],</span>t<span class="op">[</span><span class="dv">100</span><span class="op">];</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> mergesort<span class="op">(</span><span class="dt">int</span> l<span class="op">,</span><span class="dt">int</span> r<span class="op">){</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="op">(</span>l <span class="op">==</span> r<span class="op">)</span> <span class="cf">return</span><span class="op">;</span> <span class="co">// å¦‚æœåªæœ‰ä¸€ä¸ªæ•°å°±ä¸ç”¨æ’äº†</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> mid <span class="op">=</span> <span class="op">(</span>l <span class="op">+</span> r<span class="op">)</span> <span class="op">/</span> <span class="dv">2</span><span class="op">;</span> <span class="co">// å–ä¸­é—´ç‚¹</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>    mergesort<span class="op">(</span>l<span class="op">,</span>mid<span class="op">);</span> <span class="co">// æ’åºå·¦åŠéƒ¨åˆ†</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>    mergesort<span class="op">(</span>mid <span class="op">+</span> <span class="dv">1</span><span class="op">,</span>r<span class="op">);</span> <span class="co">// æ’åºå³åŠéƒ¨åˆ†</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> tot <span class="op">=</span> <span class="dv">0</span><span class="op">,</span>i <span class="op">=</span> l<span class="op">,</span>j <span class="op">=</span> mid <span class="op">+</span> <span class="dv">1</span><span class="op">;</span> <span class="co">// å¼€å§‹åˆå¹¶ï¼Œtotè¡¨ç¤ºå‚¨ç‰©é—´æœ€åä¸€ä¸ªè¢«å ç”¨çš„ä½ç½®</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> <span class="op">(</span>i <span class="op">&lt;=</span> mid <span class="op">&amp;&amp;</span> j <span class="op">&lt;=</span> r<span class="op">){</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span>a<span class="op">[</span>i<span class="op">]</span> <span class="op">&lt;=</span> a<span class="op">[</span>j<span class="op">])</span> t<span class="op">[++</span>tot<span class="op">]</span> <span class="op">=</span> a<span class="op">[</span>i<span class="op">++];</span> <span class="co">// å¦‚æœiæŒ‡å‘çš„æ•°å°ï¼Œé‚£ä¹ˆå°±æŠŠå®ƒæ”¾å…¥å‚¨ç‰©é—´</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span> t<span class="op">[++</span>tot<span class="op">]</span> <span class="op">=</span> a<span class="op">[</span>j<span class="op">++];</span> <span class="co">// å¦åˆ™å°±è®©jæŒ‡å‘çš„æ•°è¿›å…¥å‚¨ç‰©é—´</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> <span class="op">(</span>i <span class="op">&lt;=</span> mid<span class="op">)</span> t<span class="op">[++</span>tot<span class="op">]</span> <span class="op">=</span> a<span class="op">[</span>i<span class="op">++];</span> <span class="co">// æŠŠå‰©ä¸‹çš„éƒ¨åˆ†è£…è¿›å‚¨ç‰©é—´</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> <span class="op">(</span>j <span class="op">&lt;=</span> r<span class="op">)</span> t<span class="op">[++</span>tot<span class="op">]</span> <span class="op">=</span> a<span class="op">[</span>j<span class="op">++];</span> <span class="co">// åŒä¸Š</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> k <span class="op">=</span> <span class="dv">1</span><span class="op">;</span>k <span class="op">&lt;=</span> tot<span class="op">;++</span>k<span class="op">)</span> a<span class="op">[</span>l <span class="op">+</span> k <span class="op">-</span> <span class="dv">1</span><span class="op">]</span> <span class="op">=</span> t<span class="op">[</span>k<span class="op">];</span> <span class="co">// æŠŠå‚¨ç‰©é—´æ”¾å›åˆ°åŸåºåˆ—</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h1 id="æ‹“å±•åº”ç”¨æ±‚é€†åºå¯¹ä¸ªæ•°">æ‹“å±•åº”ç”¨ï¼šæ±‚é€†åºå¯¹ä¸ªæ•°</h1>
<h2 id="åŸç†">åŸç†</h2>
<p>é€†åºå¯¹ï¼ŒæŒ‡æ•°åˆ—ä¸­çš„ä¸¤ä¸ªæ•° <span
class="math inline"><em>a</em><sub><em>i</em></sub>â€„&gt;â€„<em>a</em><sub><em>j</em></sub></span>
å¹¶ä¸” <span class="math inline"><em>i</em>â€„&lt;â€„<em>j</em></span>
ã€‚åˆ©ç”¨å½’å¹¶æ’åºæˆ‘ä»¬å¯ä»¥ä»¥ <span
class="math inline">ğ’ª(<em>n</em>log(<em>n</em>))</span>
çš„æ—¶é—´å¤æ‚åº¦æ±‚åºåˆ—ä¸­çš„é€†åºå¯¹ä¸ªæ•°ã€‚
å½’å¹¶æ’åºåœ¨åˆå¹¶è¿‡ç¨‹ä¸­ï¼Œ<code>i</code>æ°¸è¿œå°äº<code>j</code>ï¼Œè¿™æ—¶ï¼Œå¦‚æœ
<span
class="math inline"><em>a</em><sub><em>i</em></sub>â€„&gt;â€„<em>a</em><sub><em>j</em></sub></span>
ï¼Œè¯´æ˜å‡ºç°äº†ä¸€ç»„é€†åºå¯¹ï¼Œè€Œä¸”å› ä¸ºè¢«åˆå¹¶çš„ä¸¤ä¸ªåºåˆ—æ˜¯æœ‰åºçš„ï¼Œæ‰€ä»¥<span
class="math inline"><em>a</em><sub><em>i</em></sub></span>
åé¢çš„æ•°ä¹Ÿä¸€å®šå¤§äº <span
class="math inline"><em>a</em><sub><em>j</em></sub></span>
ï¼Œå› æ­¤<code>ans += mid - i + 1</code>ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p>
<h2 id="ä»£ç å®ç°-1">ä»£ç å®ç°</h2>
<div class="sourceCode" id="cb2"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co">// aæ˜¯åŸåºåˆ—ï¼Œtæ˜¯å‚¨ç‰©é—´ã€‚</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> a<span class="op">[</span><span class="dv">100</span><span class="op">],</span>t<span class="op">[</span><span class="dv">100</span><span class="op">],</span>ans <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> mergesort<span class="op">(</span><span class="dt">int</span> l<span class="op">,</span><span class="dt">int</span> r<span class="op">){</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="op">(</span>l <span class="op">==</span> r<span class="op">)</span> <span class="cf">return</span><span class="op">;</span> <span class="co">// å¦‚æœåªæœ‰ä¸€ä¸ªæ•°å°±ä¸ç”¨æ’äº†</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> mid <span class="op">=</span> <span class="op">(</span>l <span class="op">+</span> r<span class="op">)</span> <span class="op">/</span> <span class="dv">2</span><span class="op">;</span> <span class="co">// å–ä¸­é—´ç‚¹</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>    mergesort<span class="op">(</span>l<span class="op">,</span>mid<span class="op">);</span> <span class="co">// æ’åºå·¦åŠéƒ¨åˆ†</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>    mergesort<span class="op">(</span>mid <span class="op">+</span> <span class="dv">1</span><span class="op">,</span>r<span class="op">);</span> <span class="co">// æ’åºå³åŠéƒ¨åˆ†</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> tot <span class="op">=</span> <span class="dv">0</span><span class="op">,</span>i <span class="op">=</span> l<span class="op">,</span>j <span class="op">=</span> mid <span class="op">+</span> <span class="dv">1</span><span class="op">;</span> <span class="co">// å¼€å§‹åˆå¹¶ï¼Œtotè¡¨ç¤ºå‚¨ç‰©é—´æœ€åä¸€ä¸ªè¢«å ç”¨çš„ä½ç½®</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> <span class="op">(</span>i <span class="op">&lt;=</span> mid <span class="op">&amp;&amp;</span> j <span class="op">&lt;=</span> r<span class="op">){</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span>a<span class="op">[</span>i<span class="op">]</span> <span class="op">&lt;=</span> a<span class="op">[</span>j<span class="op">])</span> t<span class="op">[++</span>tot<span class="op">]</span> <span class="op">=</span> a<span class="op">[</span>i<span class="op">++];</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span> t<span class="op">[++</span>tot<span class="op">]</span> <span class="op">=</span> a<span class="op">[</span>j<span class="op">++],</span>ans <span class="op">+=</span> mid <span class="op">-</span> i <span class="op">+</span> <span class="dv">1</span><span class="op">;</span> <span class="co">// å¦‚æœa[j]æ›´å°ï¼Œé‚£ä¹ˆå°±æ˜¯å‘ç°äº†é€†åºå¯¹</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> <span class="op">(</span>i <span class="op">&lt;=</span> mid<span class="op">)</span> t<span class="op">[++</span>tot<span class="op">]</span> <span class="op">=</span> a<span class="op">[</span>i<span class="op">++];</span> <span class="co">// æŠŠå‰©ä¸‹çš„éƒ¨åˆ†è£…è¿›å‚¨ç‰©é—´</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> <span class="op">(</span>j <span class="op">&lt;=</span> r<span class="op">)</span> t<span class="op">[++</span>tot<span class="op">]</span> <span class="op">=</span> a<span class="op">[</span>j<span class="op">++];</span> <span class="co">// åŒä¸Š</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> k <span class="op">=</span> <span class="dv">1</span><span class="op">;</span>k <span class="op">&lt;=</span> tot<span class="op">;++</span>k<span class="op">)</span> a<span class="op">[</span>l <span class="op">+</span> k <span class="op">-</span> <span class="dv">1</span><span class="op">]</span> <span class="op">=</span> t<span class="op">[</span>k<span class="op">];</span> <span class="co">// æŠŠå‚¨ç‰©é—´æ”¾å›åˆ°åŸåºåˆ—</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
</div>
        <script>
         var lst = document.getElementsByTagName("img");
         for (var i = 0;i < lst.length;++i) lst[i].setAttribute("data-zoomable","");
         document.addEventListener('DOMContentLoaded', function () {
             mediumZoom('[data-zoomable]');
         });
        </script>
    </body>
    <script src="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="https://unpkg.com/medium-zoom@1.1.0/dist/medium-zoom.min.js"></script>
</html>
<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta charset="utf-8">
        <title>doingçš„å°ç ´å±‹</title>
        <style>
         img {
             width: 90vw;
             z-index: 1000;
         }
         .pstbdy{
             width: 100vw;
             flex: auto;
         }
         body{
             display: flex;
             flex-direction: column;
         }
         @media screen and (max-width: 750px){
             body{
		 font-size: 5vw !important;
             }
         }
	 /* Sspai Web Theme A theme to [sspai](ssp.ai) default theme. Developed by Codegass(wchweichenhao@gmial.com) & Yves(yves@sspai.com) Download Cuto on the App Store and Google Play! */
	 body {
	     font-size: 15px;
	     color:#333;
	     background:#fff;
	     font-family: Helvetica, Arial, "PingFang SC", "Microsoft YaHei", "WenQuanYi Micro Hei", "tohoma,sans-serif";
	     margin: 0;
	 }
	 h1 {
	     font-size: 2.2em;
	     font-weight: 700;
	     line-height: 1.1;
	     padding-top: 16px;
	     margin-bottom: 4px;
	 }
	 h2, h3, h4, h5, h6 {
	     line-height: 1.5em;
	     margin-top: 2.2em;
	     margin-bottom: 4px;
	 }
	 h2 {
	     font-size: 1.4em;
	     margin: 40px 10px 20px 0;
	     padding-left: 9px;
	     border-left: 6px solid #ff7e79;
	     font-weight: 700;
	     line-height: 1.4;
	 }
	 h3 {
	     font-weight: 700;
	     font-size: 1.2em;
	     line-height: 1.4;
	     margin: 10px 0 5px;
	     padding-top: 10px;
	 }
	 h4 {
	     font-weight: 700;
	     text-transform: uppercase;
	     font-size: 1.1em;
	     line-height: 1.4;
	     margin: 10px 0 5px;
	     padding-top: 10px
	 }
	 h5, h6 {
	     font-size: .9em;
	 }
	 h5 {
	     font-weight: bold;
	     text-transform: uppercase;
	 }
	 h6 {
	     font-weight: normal;
	     color: #AAA;
	 }
	 img {
	     width: 100%;
	     border-radius: 5px;
	     display: block;
	     margin-bottom: 15px;
	     height: auto;
	 }
	 dl,ol,ul {
	     margin-top: 12px;
	     margin-bottom: 20px;
	     padding-left: 5%;
	     line-height: 1.8;
	 }
	 p {
	     margin: 0 0 20px;
	     padding: 0;
	     line-height: 1.8;
	 }
	 a {
	     text-decoration: none;
	     color: black;
	     border-bottom: 1px solid #d71a1b;
	 }
	 a:focus {
	     outline-offset: -2px;
	 }
	 blockquote {
	     font-size: 1em;
	     font-style: normal;
	     padding: 30px 38px;
	     margin: 0 0 15px;
	     position: relative;
	     line-height: 1.8;
	     text-indent: 0;
	     border: none;
	     color: #888;
	 }
	 blockquote:before {
	     content: "â€œ";
	     left: 12px;
	     top: 0;
	     color: #E0E0E0;
	     font-size: 4em;
	     font-family: Arial, serif;
	     line-height: 1em;
	     font-weight: 700;
	     position: absolute;
	 }
	 blockquote:after {
	     content: "â€";
	     right: 12px;
	     bottom: -26px;
	     color: #E0E0E0;
	     font-size: 4em;
	     font-family: Arial, serif;
	     line-height: 1em;
	     font-weight: 700;
	     position: absolute;
	     bottom: -31px;
	 }
	 strong, dfn {
	     font-weight: 700;
	 }
	 em, dfn {
	     font-style: italic;
	     font-weight: 400;
	 }
	 del {
	     text-decoration: line-through;
	 }
	 /*code {font-size:90%;}*/
	 /*pre {text-align:left; overflow-x: scroll; color: #257fa0; background: #f6f6f6; padding: 10pt 15pt; border-radius: 3px; border: solid 1px #e2e2e2;}*/
	 pre {
	     margin: 0 0 10px;
	     font-size: 13px;
	     line-height: 1.42857;
	     word-break: break-all;
	     word-wrap: break-word;
	     border-radius: 4px;
	     white-space: pre-wrap;
	     display: block;
	     background: #f8f8f8;
	     padding: 10px 20px;
	     border: none;
	     margin-bottom: 25px;
	     color: #666;
	     font-family: Courier, sans-serif;
	 }
	 code {
	     color: #c7254e;
	     background-color: #f9f2f4;
	     border-radius: 4px;
	     font-family: Menlo, Monaco, Consolas, "Courier New", monospace;
	     padding: 2px 4px;
	     font-size: 90%;
	 }
	 p > code {
	     color: #c7264e;
	     background-color: #f9f2f4;
	     font-size: .95em;
	     border-radius: 3px;
	     -moz-border-radius: 3px;
	     -webkit-border-radius: 3px;
	 }
	 figure {
	     margin: 1em 0;
	 }
	 figcaption {
	     font-size: 0.75em;
	     padding:0.5em 2em;
	     margin-bottom: 2em;
	 }
	 figure img {
	     margin-bottom: 0px;
	 }
	 hr {
	     margin-top: 20px;
	     margin-bottom: 20px;
	     border: 0;
	     border-top: 1px solid #eee;
	 }
	 ol p, ul p {
	     margin-bottom: 0px;
	 }
	 li {
	     margin-bottom: 0.75em;
	     margin-top: 0.75em;
	 }
	 ol#footnotes {
	     font-size: 0.95em;
	     padding-top: 1em;
	     margin-top: 1em;
	     margin-left: 0;
	     border-top: 1px solid #eaeaea;
	     counter-reset: footer-counter;
	     list-style: none;
	     color: #555;
	     padding-left: 5%;
	     margin: 20px 0;
	 }
	 ol#footnotes li {
	     margin-bottom: 10px;
	     margin-left: 16px;
	     font-weight: 400;
	     line-height: 2;
	     list-style-type: none;
	 }
	 ol#footnotes li:before {
	     content: counter(footer-counter) ". ";
	     counter-increment: footer-counter;
	     font-weight: 800;
	     font-size: .95em;
	 }
	 @keyframes highfade {
	     0% {background-color: none;}
	     20% {background-color: yellow;}
	     100% {background-color: none;}
	 }
	 @-webkit-keyframes highfade {
	     0% {background-color: none;} 
	     20% {background-color: yellow;}
	     100% {background-color: none;}
	 }
	 a:target, ol#footnotes li:target, sup a:target {
	     animation-name: highfade;
	     animation-duration: 2s;
	     animation-iteration-count: 1;
	     animation-timing-function: ease-in-out;
	     -webkit-animation-name: highfade;
	     -webkit-animation-duration: 2s;
	     -webkit-animation-iteration-count: 1;
	     -webkit-animation-timing-function: ease-in-out;
	 }
	 a:target {
	     border:0;
	     outline: 0;
	     animation-iteration-count: 1;
	     -webkit-animation-timing-function: ease-in-out;
	 }
	 a:target {
	     border:0;
	     outline: 0;
	     tion-iteration-count: 1;
	     -webkit-animation-timing-function: ease-in-out;
	 }
	 a:target {
	     border:0;outline: 0;
	 }
	</style>
	<link rel="stylesheet" href="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/styles/atom-one-dark.min.css">
    </head>
    <body style="background-color: hsl(204,60%,96%);">
        <div style="background-color: hsl(204, 60%, 96%);z-index:999;flex-shrink: 0;"><a href="{{{siteUrl}}}" style="text-decoration: none;color: black;display:flex;flex-direction: row;flex-warp: nowarp;justify-content: flex-start;">
            <h1>doingçš„å°ç ´å±‹</h1></a></div>
        <div style="background-color: hsl(204, 60%, 96%);" class="pstbdy"><h1 id="å½’å¹¶æ’åºç®€ä»‹">å½’å¹¶æ’åºç®€ä»‹</h1>
<h2 id="ä»€ä¹ˆæ˜¯æ’åºç®—æ³•">ä»€ä¹ˆæ˜¯æ’åºç®—æ³•</h2>
<p>æ’åºç®—æ³•æ˜¯ç®—æ³•çš„åŸºçŸ³ï¼Œè®¸å¤šç®—æ³•éƒ½åŸºäºæ’åºç®—æ³•ï¼Œæ¯”å¦‚äºŒåˆ†æœç´¢ã€ç¦»æ•£åŒ–ç­‰ã€‚è¿™ç¯‡æ–‡ç« å°†è¦è¯¦ç»†ä»‹ç»å°†è¦ä»‹ç»æ’åºç®—æ³•ä¹‹ä¸€â€”â€”å½’å¹¶æ’åºã€‚</p>
<h2 id="å½’å¹¶æ’åºçš„æ€§èƒ½">å½’å¹¶æ’åºçš„æ€§èƒ½</h2>
<p>å½’å¹¶æ’åºçš„æ—¶é—´å¤æ‚åº¦ç¨³å®šåœ¨ <span
class="math inline">ğ’ª(<em>n</em>log(<em>n</em>))</span>
ï¼Œæ˜¯ä¸€ç§å…·æœ‰ç¨³å®šæ€§ï¼ˆå³ç›¸åŒå…ƒç´ ç›¸å¯¹ä½ç½®ä¸å˜ï¼‰çš„æ’åºæ–¹æ³•ã€‚æ‰€ä»¥ä¸€èˆ¬æ¥è¯´å½’å¹¶æ’åºä¼˜äºå¿«é€Ÿæ’åºã€‚å½’å¹¶æ’åºåŸºäºä¸€ç§å«åšâ€œåˆ†æ²»â€çš„æ€æƒ³ï¼Œå³åˆ†è€Œæ²»ä¹‹ã€‚</p>
<h1 id="å½’å¹¶æ’åºåŸç†">å½’å¹¶æ’åºåŸç†</h1>
<p>ä¸‹é¢æˆ‘ä»¬ç”¨<code>1 9 2 7 6 5 8 4</code>è¿™8ä¸ªæ•°æ¥æ¼”ç¤ºå½’å¹¶æ’åºã€‚</p>
<p>å½’å¹¶æ’åºä¸»è¦åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œä¸€éƒ¨åˆ†æ˜¯åˆ†ï¼Œä¸€éƒ¨åˆ†æ˜¯åˆã€‚</p>
<h2 id="æ­¥éª¤ä¸€åˆ†è§£">æ­¥éª¤ä¸€ï¼šåˆ†è§£</h2>
<p><img src="https://s21.ax1x.com/2024/07/29/pkLkTEj.png" /></p>
<p>å¯¹äºæ¯ä¸ªåºåˆ—ï¼Œå–<code>mid=(l+r)/2</code>ï¼ˆå‘ä¸‹å–æ•´ï¼‰ï¼Œ
ç„¶ååˆ†åˆ«å¯¹å·¦ï¼ˆ<code>[l~mid]</code>ï¼‰å³ï¼ˆ<code>[mid+1~r]</code>ï¼‰ä¸¤æ®µè¿›è¡Œæ’åºã€‚
ç­‰ç­‰ï¼å¦‚æœ <span
class="math inline"><em>l</em>â€„=â€„<em>r</em></span>ï¼Œå³åªæœ‰ä¸€ä¸ªæ•°äº†ï¼Œé‚£ä¹ˆè¿™æ®µå°±ä¸ç”¨æ’äº†ï¼Œ
ç›´æ¥<code>return</code>ã€‚</p>
<h2 id="æ­¥éª¤äºŒåˆå¹¶">æ­¥éª¤äºŒï¼šåˆå¹¶</h2>
<p>è¿™ä¸ªæ­¥éª¤ï¼Œæˆ‘ä»¬éœ€è¦å°†ä¸¤ä¸ªå­åºåˆ—è¿›è¡Œåˆå¹¶ã€‚æ³¨æ„ï¼Œè¢«åˆå¹¶çš„ä¸¤ä¸ªå­åºåˆ—ä¸€å®šæ˜¯æœ‰åºçš„ã€‚è¿™æ ·æ‰å¯ä»¥è¿›è¡Œçº¿æ€§çš„åˆå¹¶ã€‚</p>
<p>æˆ‘ä»¬å®šä¹‰ä¸¤ä¸ªâ€œç®­å¤´â€<code>i</code>å’Œ<code>j</code>åˆ†åˆ«æŒ‡å‘ä¸¤ä¸ªå­åºåˆ—çš„å¼€å¤´ï¼Œå¹¶ä¸”å®šä¹‰ä¸€ä¸ªâ€œå‚¨ç‰©é—´â€æ•°ç»„<code>t</code>ï¼Œç”¨æ¥å­˜å‚¨æ’å¥½çš„æ•°å­—ï¼Œå°±åƒè¿™æ ·ï¼š</p>
<p><a href="https://imgse.com/i/pkLNwB4"><img
src="https://s21.ax1x.com/2024/07/29/pkLNwB4.png"
alt="pkLNwB4.png" /></a></p>
<p>ç„¶åæˆ‘ä»¬æ¯”è¾ƒä¸¤ä¸ªç®­å¤´æŒ‡å‘çš„æ•°å­—ï¼Œçœ‹å“ªä¸ªå°ï¼Œå°±è®©å“ªä¸ªè¿›å…¥â€œå‚¨ç‰©é—´â€ï¼Œå¹¶ä¸”æŠŠé‚£ä¸ªç®­å¤´å‘å‰æ¨è¿›ã€‚
æ¯”å¦‚ä¸Šé¢è¿™å¹…å›¾ï¼Œ <span class="math inline">1â€„&lt;â€„4</span>
ï¼Œæ‰€ä»¥å°±å˜æˆè¿™æ ·ï¼š</p>
<p><a href="https://imgse.com/i/pkLN69x"><img
src="https://s21.ax1x.com/2024/07/29/pkLN69x.png"
alt="pkLN69x.png" /></a></p>
<p>æ¥ä¸‹æ¥ï¼Œ <span class="math inline">2â€„&lt;â€„4</span>
ï¼Œæ‰€ä»¥è®©iæŒ‡å‘çš„æ•°è¿›å…¥å‚¨ç‰©é—´å¹¶å‘å‰æ¨è¿›ã€‚</p>
<p><a href="https://imgse.com/i/pkLNggK"><img
src="https://s21.ax1x.com/2024/07/29/pkLNggK.png"
alt="pkLNggK.png" /></a></p>
<p>æ¥ä¸‹æ¥ç»§ç»­ï¼Œæ³¨æ„ï¼ <span class="math inline">7â€„&gt;â€„4</span>
ï¼Œæ‰€ä»¥è¦è®©4è¿›å…¥å‚¨ç‰©é—´ï¼Œæ¨è¿›çš„åˆ™æ˜¯<code>j</code>ã€‚</p>
<p><a href="https://imgse.com/i/pkLNfDe"><img
src="https://s21.ax1x.com/2024/07/29/pkLNfDe.png"
alt="pkLNfDe.png" /></a></p>
<p>ä»¥æ­¤ç±»æ¨ï¼Œè¯·ä½ æ‰‹åŠ¨æ¨¡æ‹Ÿä¸€ä¸‹åé¢çš„éƒ¨åˆ†ï¼Œå¦‚æœæ²¡æœ‰é”™ï¼Œæ¨¡æ‹Ÿå®Œåº”è¯¥æ˜¯è¿™æ ·çš„ï¼š</p>
<p><a href="https://imgse.com/i/pkLNIUA"><img
src="https://s21.ax1x.com/2024/07/29/pkLNIUA.png"
alt="pkLNIUA.png" /></a></p>
<p>æ€ä¹ˆæ ·ï¼Ÿè‡ªå·±æ¨¡æ‹Ÿçš„å¯¹ä¸å¯¹ï¼Ÿæ³¨æ„å¦‚æœä¸€ä¸ªç®­å¤´èµ°åˆ°äº†æœ«å°¾ï¼Œå¦ä¸€ä¸ªç®­å¤´è¿˜è¦ç»§ç»­èµ°å®Œå“¦ï¼å¦‚æœè¿˜æ˜¯ä¸ç†è§£å¯ä»¥çœ‹ä¸€ä¸‹ä»£ç </p>
<h2 id="ä»£ç å®ç°">ä»£ç å®ç°</h2>
<div class="sourceCode" id="cb1"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">// aæ˜¯åŸåºåˆ—ï¼Œtæ˜¯å‚¨ç‰©é—´ã€‚</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> a<span class="op">[</span><span class="dv">100</span><span class="op">],</span>t<span class="op">[</span><span class="dv">100</span><span class="op">];</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> mergesort<span class="op">(</span><span class="dt">int</span> l<span class="op">,</span><span class="dt">int</span> r<span class="op">){</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="op">(</span>l <span class="op">==</span> r<span class="op">)</span> <span class="cf">return</span><span class="op">;</span> <span class="co">// å¦‚æœåªæœ‰ä¸€ä¸ªæ•°å°±ä¸ç”¨æ’äº†</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> mid <span class="op">=</span> <span class="op">(</span>l <span class="op">+</span> r<span class="op">)</span> <span class="op">/</span> <span class="dv">2</span><span class="op">;</span> <span class="co">// å–ä¸­é—´ç‚¹</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>    mergesort<span class="op">(</span>l<span class="op">,</span>mid<span class="op">);</span> <span class="co">// æ’åºå·¦åŠéƒ¨åˆ†</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>    mergesort<span class="op">(</span>mid <span class="op">+</span> <span class="dv">1</span><span class="op">,</span>r<span class="op">);</span> <span class="co">// æ’åºå³åŠéƒ¨åˆ†</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> tot <span class="op">=</span> <span class="dv">0</span><span class="op">,</span>i <span class="op">=</span> l<span class="op">,</span>j <span class="op">=</span> mid <span class="op">+</span> <span class="dv">1</span><span class="op">;</span> <span class="co">// å¼€å§‹åˆå¹¶ï¼Œtotè¡¨ç¤ºå‚¨ç‰©é—´æœ€åä¸€ä¸ªè¢«å ç”¨çš„ä½ç½®</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> <span class="op">(</span>i <span class="op">&lt;=</span> mid <span class="op">&amp;&amp;</span> j <span class="op">&lt;=</span> r<span class="op">){</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span>a<span class="op">[</span>i<span class="op">]</span> <span class="op">&lt;=</span> a<span class="op">[</span>j<span class="op">])</span> t<span class="op">[++</span>tot<span class="op">]</span> <span class="op">=</span> a<span class="op">[</span>i<span class="op">++];</span> <span class="co">// å¦‚æœiæŒ‡å‘çš„æ•°å°ï¼Œé‚£ä¹ˆå°±æŠŠå®ƒæ”¾å…¥å‚¨ç‰©é—´</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span> t<span class="op">[++</span>tot<span class="op">]</span> <span class="op">=</span> a<span class="op">[</span>j<span class="op">++];</span> <span class="co">// å¦åˆ™å°±è®©jæŒ‡å‘çš„æ•°è¿›å…¥å‚¨ç‰©é—´</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> <span class="op">(</span>i <span class="op">&lt;=</span> mid<span class="op">)</span> t<span class="op">[++</span>tot<span class="op">]</span> <span class="op">=</span> a<span class="op">[</span>i<span class="op">++];</span> <span class="co">// æŠŠå‰©ä¸‹çš„éƒ¨åˆ†è£…è¿›å‚¨ç‰©é—´</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> <span class="op">(</span>j <span class="op">&lt;=</span> r<span class="op">)</span> t<span class="op">[++</span>tot<span class="op">]</span> <span class="op">=</span> a<span class="op">[</span>j<span class="op">++];</span> <span class="co">// åŒä¸Š</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> k <span class="op">=</span> <span class="dv">1</span><span class="op">;</span>k <span class="op">&lt;=</span> tot<span class="op">;++</span>k<span class="op">)</span> a<span class="op">[</span>l <span class="op">+</span> k <span class="op">-</span> <span class="dv">1</span><span class="op">]</span> <span class="op">=</span> t<span class="op">[</span>k<span class="op">];</span> <span class="co">// æŠŠå‚¨ç‰©é—´æ”¾å›åˆ°åŸåºåˆ—</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h1 id="æ‹“å±•åº”ç”¨æ±‚é€†åºå¯¹ä¸ªæ•°">æ‹“å±•åº”ç”¨ï¼šæ±‚é€†åºå¯¹ä¸ªæ•°</h1>
<h2 id="åŸç†">åŸç†</h2>
<p>é€†åºå¯¹ï¼ŒæŒ‡æ•°åˆ—ä¸­çš„ä¸¤ä¸ªæ•° <span
class="math inline"><em>a</em><sub><em>i</em></sub>â€„&gt;â€„<em>a</em><sub><em>j</em></sub></span>
å¹¶ä¸” <span class="math inline"><em>i</em>â€„&lt;â€„<em>j</em></span>
ã€‚åˆ©ç”¨å½’å¹¶æ’åºæˆ‘ä»¬å¯ä»¥ä»¥ <span
class="math inline">ğ’ª(<em>n</em>log(<em>n</em>))</span>
çš„æ—¶é—´å¤æ‚åº¦æ±‚åºåˆ—ä¸­çš„é€†åºå¯¹ä¸ªæ•°ã€‚
å½’å¹¶æ’åºåœ¨åˆå¹¶è¿‡ç¨‹ä¸­ï¼Œ<code>i</code>æ°¸è¿œå°äº<code>j</code>ï¼Œè¿™æ—¶ï¼Œå¦‚æœ
<span
class="math inline"><em>a</em><sub><em>i</em></sub>â€„&gt;â€„<em>a</em><sub><em>j</em></sub></span>
ï¼Œè¯´æ˜å‡ºç°äº†ä¸€ç»„é€†åºå¯¹ï¼Œè€Œä¸”å› ä¸ºè¢«åˆå¹¶çš„ä¸¤ä¸ªåºåˆ—æ˜¯æœ‰åºçš„ï¼Œæ‰€ä»¥<span
class="math inline"><em>a</em><sub><em>i</em></sub></span>
åé¢çš„æ•°ä¹Ÿä¸€å®šå¤§äº <span
class="math inline"><em>a</em><sub><em>j</em></sub></span>
ï¼Œå› æ­¤<code>ans += mid - i + 1</code>ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p>
<h2 id="ä»£ç å®ç°-1">ä»£ç å®ç°</h2>
<div class="sourceCode" id="cb2"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co">// aæ˜¯åŸåºåˆ—ï¼Œtæ˜¯å‚¨ç‰©é—´ã€‚</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> a<span class="op">[</span><span class="dv">100</span><span class="op">],</span>t<span class="op">[</span><span class="dv">100</span><span class="op">],</span>ans <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> mergesort<span class="op">(</span><span class="dt">int</span> l<span class="op">,</span><span class="dt">int</span> r<span class="op">){</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="op">(</span>l <span class="op">==</span> r<span class="op">)</span> <span class="cf">return</span><span class="op">;</span> <span class="co">// å¦‚æœåªæœ‰ä¸€ä¸ªæ•°å°±ä¸ç”¨æ’äº†</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> mid <span class="op">=</span> <span class="op">(</span>l <span class="op">+</span> r<span class="op">)</span> <span class="op">/</span> <span class="dv">2</span><span class="op">;</span> <span class="co">// å–ä¸­é—´ç‚¹</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>    mergesort<span class="op">(</span>l<span class="op">,</span>mid<span class="op">);</span> <span class="co">// æ’åºå·¦åŠéƒ¨åˆ†</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>    mergesort<span class="op">(</span>mid <span class="op">+</span> <span class="dv">1</span><span class="op">,</span>r<span class="op">);</span> <span class="co">// æ’åºå³åŠéƒ¨åˆ†</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> tot <span class="op">=</span> <span class="dv">0</span><span class="op">,</span>i <span class="op">=</span> l<span class="op">,</span>j <span class="op">=</span> mid <span class="op">+</span> <span class="dv">1</span><span class="op">;</span> <span class="co">// å¼€å§‹åˆå¹¶ï¼Œtotè¡¨ç¤ºå‚¨ç‰©é—´æœ€åä¸€ä¸ªè¢«å ç”¨çš„ä½ç½®</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> <span class="op">(</span>i <span class="op">&lt;=</span> mid <span class="op">&amp;&amp;</span> j <span class="op">&lt;=</span> r<span class="op">){</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span>a<span class="op">[</span>i<span class="op">]</span> <span class="op">&lt;=</span> a<span class="op">[</span>j<span class="op">])</span> t<span class="op">[++</span>tot<span class="op">]</span> <span class="op">=</span> a<span class="op">[</span>i<span class="op">++];</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span> t<span class="op">[++</span>tot<span class="op">]</span> <span class="op">=</span> a<span class="op">[</span>j<span class="op">++],</span>ans <span class="op">+=</span> mid <span class="op">-</span> i <span class="op">+</span> <span class="dv">1</span><span class="op">;</span> <span class="co">// å¦‚æœa[j]æ›´å°ï¼Œé‚£ä¹ˆå°±æ˜¯å‘ç°äº†é€†åºå¯¹</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> <span class="op">(</span>i <span class="op">&lt;=</span> mid<span class="op">)</span> t<span class="op">[++</span>tot<span class="op">]</span> <span class="op">=</span> a<span class="op">[</span>i<span class="op">++];</span> <span class="co">// æŠŠå‰©ä¸‹çš„éƒ¨åˆ†è£…è¿›å‚¨ç‰©é—´</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> <span class="op">(</span>j <span class="op">&lt;=</span> r<span class="op">)</span> t<span class="op">[++</span>tot<span class="op">]</span> <span class="op">=</span> a<span class="op">[</span>j<span class="op">++];</span> <span class="co">// åŒä¸Š</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> k <span class="op">=</span> <span class="dv">1</span><span class="op">;</span>k <span class="op">&lt;=</span> tot<span class="op">;++</span>k<span class="op">)</span> a<span class="op">[</span>l <span class="op">+</span> k <span class="op">-</span> <span class="dv">1</span><span class="op">]</span> <span class="op">=</span> t<span class="op">[</span>k<span class="op">];</span> <span class="co">// æŠŠå‚¨ç‰©é—´æ”¾å›åˆ°åŸåºåˆ—</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
</div>
        <script>
         var lst = document.getElementsByTagName("img");
         for (var i = 0;i < lst.length;++i) lst[i].setAttribute("data-zoomable","");
         document.addEventListener('DOMContentLoaded', function () {
             mediumZoom('[data-zoomable]');
         });
        </script>
    </body>
    <script src="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="https://unpkg.com/medium-zoom@1.1.0/dist/medium-zoom.min.js"></script>
</html>
<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta charset="utf-8">
        <title>doingçš„å°ç ´å±‹</title>
        <style>
         img {
             width: 90vw;
             z-index: 1000;
         }
         .pstbdy{
             width: 100vw;
             flex: auto;
         }
         body{
             display: flex;
             flex-direction: column;
         }
         @media screen and (max-width: 750px){
             body{
		 font-size: 5vw !important;
             }
         }
	 /* Sspai Web Theme A theme to [sspai](ssp.ai) default theme. Developed by Codegass(wchweichenhao@gmial.com) & Yves(yves@sspai.com) Download Cuto on the App Store and Google Play! */
	 body {
	     font-size: 15px;
	     color:#333;
	     background:#fff;
	     font-family: Helvetica, Arial, "PingFang SC", "Microsoft YaHei", "WenQuanYi Micro Hei", "tohoma,sans-serif";
	     margin: 0;
	 }
	 h1 {
	     font-size: 2.2em;
	     font-weight: 700;
	     line-height: 1.1;
	     padding-top: 16px;
	     margin-bottom: 4px;
	 }
	 h2, h3, h4, h5, h6 {
	     line-height: 1.5em;
	     margin-top: 2.2em;
	     margin-bottom: 4px;
	 }
	 h2 {
	     font-size: 1.4em;
	     margin: 40px 10px 20px 0;
	     padding-left: 9px;
	     border-left: 6px solid #ff7e79;
	     font-weight: 700;
	     line-height: 1.4;
	 }
	 h3 {
	     font-weight: 700;
	     font-size: 1.2em;
	     line-height: 1.4;
	     margin: 10px 0 5px;
	     padding-top: 10px;
	 }
	 h4 {
	     font-weight: 700;
	     text-transform: uppercase;
	     font-size: 1.1em;
	     line-height: 1.4;
	     margin: 10px 0 5px;
	     padding-top: 10px
	 }
	 h5, h6 {
	     font-size: .9em;
	 }
	 h5 {
	     font-weight: bold;
	     text-transform: uppercase;
	 }
	 h6 {
	     font-weight: normal;
	     color: #AAA;
	 }
	 img {
	     width: 100%;
	     border-radius: 5px;
	     display: block;
	     margin-bottom: 15px;
	     height: auto;
	 }
	 dl,ol,ul {
	     margin-top: 12px;
	     margin-bottom: 20px;
	     padding-left: 5%;
	     line-height: 1.8;
	 }
	 p {
	     margin: 0 0 20px;
	     padding: 0;
	     line-height: 1.8;
	 }
	 a {
	     text-decoration: none;
	     color: black;
	     border-bottom: 1px solid #d71a1b;
	 }
	 a:focus {
	     outline-offset: -2px;
	 }
	 blockquote {
	     font-size: 1em;
	     font-style: normal;
	     padding: 30px 38px;
	     margin: 0 0 15px;
	     position: relative;
	     line-height: 1.8;
	     text-indent: 0;
	     border: none;
	     color: #888;
	 }
	 blockquote:before {
	     content: "â€œ";
	     left: 12px;
	     top: 0;
	     color: #E0E0E0;
	     font-size: 4em;
	     font-family: Arial, serif;
	     line-height: 1em;
	     font-weight: 700;
	     position: absolute;
	 }
	 blockquote:after {
	     content: "â€";
	     right: 12px;
	     bottom: -26px;
	     color: #E0E0E0;
	     font-size: 4em;
	     font-family: Arial, serif;
	     line-height: 1em;
	     font-weight: 700;
	     position: absolute;
	     bottom: -31px;
	 }
	 strong, dfn {
	     font-weight: 700;
	 }
	 em, dfn {
	     font-style: italic;
	     font-weight: 400;
	 }
	 del {
	     text-decoration: line-through;
	 }
	 /*code {font-size:90%;}*/
	 /*pre {text-align:left; overflow-x: scroll; color: #257fa0; background: #f6f6f6; padding: 10pt 15pt; border-radius: 3px; border: solid 1px #e2e2e2;}*/
	 pre {
	     margin: 0 0 10px;
	     font-size: 13px;
	     line-height: 1.42857;
	     word-break: break-all;
	     word-wrap: break-word;
	     border-radius: 4px;
	     white-space: pre-wrap;
	     display: block;
	     background: #f8f8f8;
	     padding: 10px 20px;
	     border: none;
	     margin-bottom: 25px;
	     color: #666;
	     font-family: Courier, sans-serif;
	 }
	 code {
	     color: #c7254e;
	     background-color: #f9f2f4;
	     border-radius: 4px;
	     font-family: Menlo, Monaco, Consolas, "Courier New", monospace;
	     padding: 2px 4px;
	     font-size: 90%;
	 }
	 p > code {
	     color: #c7264e;
	     background-color: #f9f2f4;
	     font-size: .95em;
	     border-radius: 3px;
	     -moz-border-radius: 3px;
	     -webkit-border-radius: 3px;
	 }
	 figure {
	     margin: 1em 0;
	 }
	 figcaption {
	     font-size: 0.75em;
	     padding:0.5em 2em;
	     margin-bottom: 2em;
	 }
	 figure img {
	     margin-bottom: 0px;
	 }
	 hr {
	     margin-top: 20px;
	     margin-bottom: 20px;
	     border: 0;
	     border-top: 1px solid #eee;
	 }
	 ol p, ul p {
	     margin-bottom: 0px;
	 }
	 li {
	     margin-bottom: 0.75em;
	     margin-top: 0.75em;
	 }
	 ol#footnotes {
	     font-size: 0.95em;
	     padding-top: 1em;
	     margin-top: 1em;
	     margin-left: 0;
	     border-top: 1px solid #eaeaea;
	     counter-reset: footer-counter;
	     list-style: none;
	     color: #555;
	     padding-left: 5%;
	     margin: 20px 0;
	 }
	 ol#footnotes li {
	     margin-bottom: 10px;
	     margin-left: 16px;
	     font-weight: 400;
	     line-height: 2;
	     list-style-type: none;
	 }
	 ol#footnotes li:before {
	     content: counter(footer-counter) ". ";
	     counter-increment: footer-counter;
	     font-weight: 800;
	     font-size: .95em;
	 }
	 @keyframes highfade {
	     0% {background-color: none;}
	     20% {background-color: yellow;}
	     100% {background-color: none;}
	 }
	 @-webkit-keyframes highfade {
	     0% {background-color: none;} 
	     20% {background-color: yellow;}
	     100% {background-color: none;}
	 }
	 a:target, ol#footnotes li:target, sup a:target {
	     animation-name: highfade;
	     animation-duration: 2s;
	     animation-iteration-count: 1;
	     animation-timing-function: ease-in-out;
	     -webkit-animation-name: highfade;
	     -webkit-animation-duration: 2s;
	     -webkit-animation-iteration-count: 1;
	     -webkit-animation-timing-function: ease-in-out;
	 }
	 a:target {
	     border:0;
	     outline: 0;
	     animation-iteration-count: 1;
	     -webkit-animation-timing-function: ease-in-out;
	 }
	 a:target {
	     border:0;
	     outline: 0;
	     tion-iteration-count: 1;
	     -webkit-animation-timing-function: ease-in-out;
	 }
	 a:target {
	     border:0;outline: 0;
	 }
	</style>
	<link rel="stylesheet" href="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/styles/atom-one-dark.min.css">
    </head>
    <body style="background-color: hsl(204,60%,96%);">
        <div style="background-color: hsl(204, 60%, 96%);z-index:999;flex-shrink: 0;"><a href="https://doing1024.us.kg/" style="text-decoration: none;color: black;display:flex;flex-direction: row;flex-warp: nowarp;justify-content: flex-start;">
            <h1>doingçš„å°ç ´å±‹</h1></a></div>
        <div style="background-color: hsl(204, 60%, 96%);" class="pstbdy"><h1 id="å½’å¹¶æ’åºç®€ä»‹">å½’å¹¶æ’åºç®€ä»‹</h1>
<h2 id="ä»€ä¹ˆæ˜¯æ’åºç®—æ³•">ä»€ä¹ˆæ˜¯æ’åºç®—æ³•</h2>
<p>æ’åºç®—æ³•æ˜¯ç®—æ³•çš„åŸºçŸ³ï¼Œè®¸å¤šç®—æ³•éƒ½åŸºäºæ’åºç®—æ³•ï¼Œæ¯”å¦‚äºŒåˆ†æœç´¢ã€ç¦»æ•£åŒ–ç­‰ã€‚è¿™ç¯‡æ–‡ç« å°†è¦è¯¦ç»†ä»‹ç»å°†è¦ä»‹ç»æ’åºç®—æ³•ä¹‹ä¸€â€”â€”å½’å¹¶æ’åºã€‚</p>
<h2 id="å½’å¹¶æ’åºçš„æ€§èƒ½">å½’å¹¶æ’åºçš„æ€§èƒ½</h2>
<p>å½’å¹¶æ’åºçš„æ—¶é—´å¤æ‚åº¦ç¨³å®šåœ¨ <span
class="math inline">ğ’ª(<em>n</em>log(<em>n</em>))</span>
ï¼Œæ˜¯ä¸€ç§å…·æœ‰ç¨³å®šæ€§ï¼ˆå³ç›¸åŒå…ƒç´ ç›¸å¯¹ä½ç½®ä¸å˜ï¼‰çš„æ’åºæ–¹æ³•ã€‚æ‰€ä»¥ä¸€èˆ¬æ¥è¯´å½’å¹¶æ’åºä¼˜äºå¿«é€Ÿæ’åºã€‚å½’å¹¶æ’åºåŸºäºä¸€ç§å«åšâ€œåˆ†æ²»â€çš„æ€æƒ³ï¼Œå³åˆ†è€Œæ²»ä¹‹ã€‚</p>
<h1 id="å½’å¹¶æ’åºåŸç†">å½’å¹¶æ’åºåŸç†</h1>
<p>ä¸‹é¢æˆ‘ä»¬ç”¨<code>1 9 2 7 6 5 8 4</code>è¿™8ä¸ªæ•°æ¥æ¼”ç¤ºå½’å¹¶æ’åºã€‚</p>
<p>å½’å¹¶æ’åºä¸»è¦åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œä¸€éƒ¨åˆ†æ˜¯åˆ†ï¼Œä¸€éƒ¨åˆ†æ˜¯åˆã€‚</p>
<h2 id="æ­¥éª¤ä¸€åˆ†è§£">æ­¥éª¤ä¸€ï¼šåˆ†è§£</h2>
<p><img src="https://s21.ax1x.com/2024/07/29/pkLkTEj.png" /></p>
<p>å¯¹äºæ¯ä¸ªåºåˆ—ï¼Œå–<code>mid=(l+r)/2</code>ï¼ˆå‘ä¸‹å–æ•´ï¼‰ï¼Œ
ç„¶ååˆ†åˆ«å¯¹å·¦ï¼ˆ<code>[l~mid]</code>ï¼‰å³ï¼ˆ<code>[mid+1~r]</code>ï¼‰ä¸¤æ®µè¿›è¡Œæ’åºã€‚
ç­‰ç­‰ï¼å¦‚æœ <span
class="math inline"><em>l</em>â€„=â€„<em>r</em></span>ï¼Œå³åªæœ‰ä¸€ä¸ªæ•°äº†ï¼Œé‚£ä¹ˆè¿™æ®µå°±ä¸ç”¨æ’äº†ï¼Œ
ç›´æ¥<code>return</code>ã€‚</p>
<h2 id="æ­¥éª¤äºŒåˆå¹¶">æ­¥éª¤äºŒï¼šåˆå¹¶</h2>
<p>è¿™ä¸ªæ­¥éª¤ï¼Œæˆ‘ä»¬éœ€è¦å°†ä¸¤ä¸ªå­åºåˆ—è¿›è¡Œåˆå¹¶ã€‚æ³¨æ„ï¼Œè¢«åˆå¹¶çš„ä¸¤ä¸ªå­åºåˆ—ä¸€å®šæ˜¯æœ‰åºçš„ã€‚è¿™æ ·æ‰å¯ä»¥è¿›è¡Œçº¿æ€§çš„åˆå¹¶ã€‚</p>
<p>æˆ‘ä»¬å®šä¹‰ä¸¤ä¸ªâ€œç®­å¤´â€<code>i</code>å’Œ<code>j</code>åˆ†åˆ«æŒ‡å‘ä¸¤ä¸ªå­åºåˆ—çš„å¼€å¤´ï¼Œå¹¶ä¸”å®šä¹‰ä¸€ä¸ªâ€œå‚¨ç‰©é—´â€æ•°ç»„<code>t</code>ï¼Œç”¨æ¥å­˜å‚¨æ’å¥½çš„æ•°å­—ï¼Œå°±åƒè¿™æ ·ï¼š</p>
<p><a href="https://imgse.com/i/pkLNwB4"><img
src="https://s21.ax1x.com/2024/07/29/pkLNwB4.png"
alt="pkLNwB4.png" /></a></p>
<p>ç„¶åæˆ‘ä»¬æ¯”è¾ƒä¸¤ä¸ªç®­å¤´æŒ‡å‘çš„æ•°å­—ï¼Œçœ‹å“ªä¸ªå°ï¼Œå°±è®©å“ªä¸ªè¿›å…¥â€œå‚¨ç‰©é—´â€ï¼Œå¹¶ä¸”æŠŠé‚£ä¸ªç®­å¤´å‘å‰æ¨è¿›ã€‚
æ¯”å¦‚ä¸Šé¢è¿™å¹…å›¾ï¼Œ <span class="math inline">1â€„&lt;â€„4</span>
ï¼Œæ‰€ä»¥å°±å˜æˆè¿™æ ·ï¼š</p>
<p><a href="https://imgse.com/i/pkLN69x"><img
src="https://s21.ax1x.com/2024/07/29/pkLN69x.png"
alt="pkLN69x.png" /></a></p>
<p>æ¥ä¸‹æ¥ï¼Œ <span class="math inline">2â€„&lt;â€„4</span>
ï¼Œæ‰€ä»¥è®©iæŒ‡å‘çš„æ•°è¿›å…¥å‚¨ç‰©é—´å¹¶å‘å‰æ¨è¿›ã€‚</p>
<p><a href="https://imgse.com/i/pkLNggK"><img
src="https://s21.ax1x.com/2024/07/29/pkLNggK.png"
alt="pkLNggK.png" /></a></p>
<p>æ¥ä¸‹æ¥ç»§ç»­ï¼Œæ³¨æ„ï¼ <span class="math inline">7â€„&gt;â€„4</span>
ï¼Œæ‰€ä»¥è¦è®©4è¿›å…¥å‚¨ç‰©é—´ï¼Œæ¨è¿›çš„åˆ™æ˜¯<code>j</code>ã€‚</p>
<p><a href="https://imgse.com/i/pkLNfDe"><img
src="https://s21.ax1x.com/2024/07/29/pkLNfDe.png"
alt="pkLNfDe.png" /></a></p>
<p>ä»¥æ­¤ç±»æ¨ï¼Œè¯·ä½ æ‰‹åŠ¨æ¨¡æ‹Ÿä¸€ä¸‹åé¢çš„éƒ¨åˆ†ï¼Œå¦‚æœæ²¡æœ‰é”™ï¼Œæ¨¡æ‹Ÿå®Œåº”è¯¥æ˜¯è¿™æ ·çš„ï¼š</p>
<p><a href="https://imgse.com/i/pkLNIUA"><img
src="https://s21.ax1x.com/2024/07/29/pkLNIUA.png"
alt="pkLNIUA.png" /></a></p>
<p>æ€ä¹ˆæ ·ï¼Ÿè‡ªå·±æ¨¡æ‹Ÿçš„å¯¹ä¸å¯¹ï¼Ÿæ³¨æ„å¦‚æœä¸€ä¸ªç®­å¤´èµ°åˆ°äº†æœ«å°¾ï¼Œå¦ä¸€ä¸ªç®­å¤´è¿˜è¦ç»§ç»­èµ°å®Œå“¦ï¼å¦‚æœè¿˜æ˜¯ä¸ç†è§£å¯ä»¥çœ‹ä¸€ä¸‹ä»£ç </p>
<h2 id="ä»£ç å®ç°">ä»£ç å®ç°</h2>
<div class="sourceCode" id="cb1"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">// aæ˜¯åŸåºåˆ—ï¼Œtæ˜¯å‚¨ç‰©é—´ã€‚</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> a<span class="op">[</span><span class="dv">100</span><span class="op">],</span>t<span class="op">[</span><span class="dv">100</span><span class="op">];</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> mergesort<span class="op">(</span><span class="dt">int</span> l<span class="op">,</span><span class="dt">int</span> r<span class="op">){</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="op">(</span>l <span class="op">==</span> r<span class="op">)</span> <span class="cf">return</span><span class="op">;</span> <span class="co">// å¦‚æœåªæœ‰ä¸€ä¸ªæ•°å°±ä¸ç”¨æ’äº†</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> mid <span class="op">=</span> <span class="op">(</span>l <span class="op">+</span> r<span class="op">)</span> <span class="op">/</span> <span class="dv">2</span><span class="op">;</span> <span class="co">// å–ä¸­é—´ç‚¹</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>    mergesort<span class="op">(</span>l<span class="op">,</span>mid<span class="op">);</span> <span class="co">// æ’åºå·¦åŠéƒ¨åˆ†</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>    mergesort<span class="op">(</span>mid <span class="op">+</span> <span class="dv">1</span><span class="op">,</span>r<span class="op">);</span> <span class="co">// æ’åºå³åŠéƒ¨åˆ†</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> tot <span class="op">=</span> <span class="dv">0</span><span class="op">,</span>i <span class="op">=</span> l<span class="op">,</span>j <span class="op">=</span> mid <span class="op">+</span> <span class="dv">1</span><span class="op">;</span> <span class="co">// å¼€å§‹åˆå¹¶ï¼Œtotè¡¨ç¤ºå‚¨ç‰©é—´æœ€åä¸€ä¸ªè¢«å ç”¨çš„ä½ç½®</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> <span class="op">(</span>i <span class="op">&lt;=</span> mid <span class="op">&amp;&amp;</span> j <span class="op">&lt;=</span> r<span class="op">){</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span>a<span class="op">[</span>i<span class="op">]</span> <span class="op">&lt;=</span> a<span class="op">[</span>j<span class="op">])</span> t<span class="op">[++</span>tot<span class="op">]</span> <span class="op">=</span> a<span class="op">[</span>i<span class="op">++];</span> <span class="co">// å¦‚æœiæŒ‡å‘çš„æ•°å°ï¼Œé‚£ä¹ˆå°±æŠŠå®ƒæ”¾å…¥å‚¨ç‰©é—´</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span> t<span class="op">[++</span>tot<span class="op">]</span> <span class="op">=</span> a<span class="op">[</span>j<span class="op">++];</span> <span class="co">// å¦åˆ™å°±è®©jæŒ‡å‘çš„æ•°è¿›å…¥å‚¨ç‰©é—´</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> <span class="op">(</span>i <span class="op">&lt;=</span> mid<span class="op">)</span> t<span class="op">[++</span>tot<span class="op">]</span> <span class="op">=</span> a<span class="op">[</span>i<span class="op">++];</span> <span class="co">// æŠŠå‰©ä¸‹çš„éƒ¨åˆ†è£…è¿›å‚¨ç‰©é—´</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> <span class="op">(</span>j <span class="op">&lt;=</span> r<span class="op">)</span> t<span class="op">[++</span>tot<span class="op">]</span> <span class="op">=</span> a<span class="op">[</span>j<span class="op">++];</span> <span class="co">// åŒä¸Š</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> k <span class="op">=</span> <span class="dv">1</span><span class="op">;</span>k <span class="op">&lt;=</span> tot<span class="op">;++</span>k<span class="op">)</span> a<span class="op">[</span>l <span class="op">+</span> k <span class="op">-</span> <span class="dv">1</span><span class="op">]</span> <span class="op">=</span> t<span class="op">[</span>k<span class="op">];</span> <span class="co">// æŠŠå‚¨ç‰©é—´æ”¾å›åˆ°åŸåºåˆ—</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h1 id="æ‹“å±•åº”ç”¨æ±‚é€†åºå¯¹ä¸ªæ•°">æ‹“å±•åº”ç”¨ï¼šæ±‚é€†åºå¯¹ä¸ªæ•°</h1>
<h2 id="åŸç†">åŸç†</h2>
<p>é€†åºå¯¹ï¼ŒæŒ‡æ•°åˆ—ä¸­çš„ä¸¤ä¸ªæ•° <span
class="math inline"><em>a</em><sub><em>i</em></sub>â€„&gt;â€„<em>a</em><sub><em>j</em></sub></span>
å¹¶ä¸” <span class="math inline"><em>i</em>â€„&lt;â€„<em>j</em></span>
ã€‚åˆ©ç”¨å½’å¹¶æ’åºæˆ‘ä»¬å¯ä»¥ä»¥ <span
class="math inline">ğ’ª(<em>n</em>log(<em>n</em>))</span>
çš„æ—¶é—´å¤æ‚åº¦æ±‚åºåˆ—ä¸­çš„é€†åºå¯¹ä¸ªæ•°ã€‚
å½’å¹¶æ’åºåœ¨åˆå¹¶è¿‡ç¨‹ä¸­ï¼Œ<code>i</code>æ°¸è¿œå°äº<code>j</code>ï¼Œè¿™æ—¶ï¼Œå¦‚æœ
<span
class="math inline"><em>a</em><sub><em>i</em></sub>â€„&gt;â€„<em>a</em><sub><em>j</em></sub></span>
ï¼Œè¯´æ˜å‡ºç°äº†ä¸€ç»„é€†åºå¯¹ï¼Œè€Œä¸”å› ä¸ºè¢«åˆå¹¶çš„ä¸¤ä¸ªåºåˆ—æ˜¯æœ‰åºçš„ï¼Œæ‰€ä»¥<span
class="math inline"><em>a</em><sub><em>i</em></sub></span>
åé¢çš„æ•°ä¹Ÿä¸€å®šå¤§äº <span
class="math inline"><em>a</em><sub><em>j</em></sub></span>
ï¼Œå› æ­¤<code>ans += mid - i + 1</code>ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p>
<h2 id="ä»£ç å®ç°-1">ä»£ç å®ç°</h2>
<div class="sourceCode" id="cb2"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co">// aæ˜¯åŸåºåˆ—ï¼Œtæ˜¯å‚¨ç‰©é—´ã€‚</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> a<span class="op">[</span><span class="dv">100</span><span class="op">],</span>t<span class="op">[</span><span class="dv">100</span><span class="op">],</span>ans <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> mergesort<span class="op">(</span><span class="dt">int</span> l<span class="op">,</span><span class="dt">int</span> r<span class="op">){</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="op">(</span>l <span class="op">==</span> r<span class="op">)</span> <span class="cf">return</span><span class="op">;</span> <span class="co">// å¦‚æœåªæœ‰ä¸€ä¸ªæ•°å°±ä¸ç”¨æ’äº†</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> mid <span class="op">=</span> <span class="op">(</span>l <span class="op">+</span> r<span class="op">)</span> <span class="op">/</span> <span class="dv">2</span><span class="op">;</span> <span class="co">// å–ä¸­é—´ç‚¹</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>    mergesort<span class="op">(</span>l<span class="op">,</span>mid<span class="op">);</span> <span class="co">// æ’åºå·¦åŠéƒ¨åˆ†</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>    mergesort<span class="op">(</span>mid <span class="op">+</span> <span class="dv">1</span><span class="op">,</span>r<span class="op">);</span> <span class="co">// æ’åºå³åŠéƒ¨åˆ†</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> tot <span class="op">=</span> <span class="dv">0</span><span class="op">,</span>i <span class="op">=</span> l<span class="op">,</span>j <span class="op">=</span> mid <span class="op">+</span> <span class="dv">1</span><span class="op">;</span> <span class="co">// å¼€å§‹åˆå¹¶ï¼Œtotè¡¨ç¤ºå‚¨ç‰©é—´æœ€åä¸€ä¸ªè¢«å ç”¨çš„ä½ç½®</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> <span class="op">(</span>i <span class="op">&lt;=</span> mid <span class="op">&amp;&amp;</span> j <span class="op">&lt;=</span> r<span class="op">){</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span>a<span class="op">[</span>i<span class="op">]</span> <span class="op">&lt;=</span> a<span class="op">[</span>j<span class="op">])</span> t<span class="op">[++</span>tot<span class="op">]</span> <span class="op">=</span> a<span class="op">[</span>i<span class="op">++];</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span> t<span class="op">[++</span>tot<span class="op">]</span> <span class="op">=</span> a<span class="op">[</span>j<span class="op">++],</span>ans <span class="op">+=</span> mid <span class="op">-</span> i <span class="op">+</span> <span class="dv">1</span><span class="op">;</span> <span class="co">// å¦‚æœa[j]æ›´å°ï¼Œé‚£ä¹ˆå°±æ˜¯å‘ç°äº†é€†åºå¯¹</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> <span class="op">(</span>i <span class="op">&lt;=</span> mid<span class="op">)</span> t<span class="op">[++</span>tot<span class="op">]</span> <span class="op">=</span> a<span class="op">[</span>i<span class="op">++];</span> <span class="co">// æŠŠå‰©ä¸‹çš„éƒ¨åˆ†è£…è¿›å‚¨ç‰©é—´</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> <span class="op">(</span>j <span class="op">&lt;=</span> r<span class="op">)</span> t<span class="op">[++</span>tot<span class="op">]</span> <span class="op">=</span> a<span class="op">[</span>j<span class="op">++];</span> <span class="co">// åŒä¸Š</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> k <span class="op">=</span> <span class="dv">1</span><span class="op">;</span>k <span class="op">&lt;=</span> tot<span class="op">;++</span>k<span class="op">)</span> a<span class="op">[</span>l <span class="op">+</span> k <span class="op">-</span> <span class="dv">1</span><span class="op">]</span> <span class="op">=</span> t<span class="op">[</span>k<span class="op">];</span> <span class="co">// æŠŠå‚¨ç‰©é—´æ”¾å›åˆ°åŸåºåˆ—</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
</div>
        <script>
         var lst = document.getElementsByTagName("img");
         for (var i = 0;i < lst.length;++i) lst[i].setAttribute("data-zoomable","");
         document.addEventListener('DOMContentLoaded', function () {
             mediumZoom('[data-zoomable]');
         });
        </script>
    </body>
    <script src="https://unpkg.com/@highlightjs/cdn-assets@11.9.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="https://unpkg.com/medium-zoom@1.1.0/dist/medium-zoom.min.js"></script>
</html>
